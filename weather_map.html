<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Weather Map</title>

    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.0/mapbox-gl.css' rel='stylesheet' />
    <style>


        #box {
            display: flex;

        }

        ul {
            text-align: center;
            list-style: none;
        }


    </style>
</head>
<body>

<header>
    <h1>Weather Application</h1>
    <h2>City</h2>
</header>
<main>
    <div class="weather-box">
        <div id="box"></div>
    </div>
    <div id='map' style='width: 50%; height: 400px;'></div>

</main>




<script src="js/jquery-2.2.4.js"></script>
<script src="js/keys.js"></script>

<script>
    'use strict';

    $.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/" + darkSkyKey+ "/29.4241,-98.4936").done(function(data) {
        console.log(data.daily.data[0]);


    });

    var arrayOfIcons = [
        {
            status: "clear-day",
            image: "icon/Sun.svg"
        },
        {
            status: "clear-night",
            image: "icon/Moon-Full.svg"
        }, {
            status: "rain",
            image: "icon/Cloud-Rain.svg"
        }, {
            status: "snow",
            image: "icon/Snowflake.svg"
        }, {
            status: "sleet",
            image: "icon/Cloud-Snow.svg"
        }, {
            status: "wind",
            image: "icon/Wind.svg"
        }, {
            status: "fog",
            image: "icon/Cloud-Fog.svg"
        }, {
            status: "cloudy",
            image: "icon/Cloud.svg"
        }, {
            status: "partly-cloudy-day",
            image: "icon/Cloud-Sun.svg"
        }, {
            status: "partly-cloudy-night",
            image: "icon/Cloud-Moon.svg"
        }
    ];




    $.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/" + darkSkyKey + "/29.4241,-98.4936").done(function(data) {

        var weatherHTML = "";


        for (var i = 0; i < 3; i++) {

                weatherHTML +=   "<ul>";
                weatherHTML +=   "<img src='" + changeImage(arrayOfIcons, data.daily.data[i].icon) +"'>";
                weatherHTML +=   "<li>" + data.daily.data[i].temperatureHigh + "° /" + data.daily.data[i].temperatureLow + "°</li>";
                weatherHTML +=   "<li>" + "HUMIDITY: " + data.daily.data[i].humidity  + "</li>";
                weatherHTML +=   "<li>" + "WIND SPEED: "+ data.daily.data[i].windSpeed  + "</li>";
                weatherHTML +=   "<li>" + "PRESSURE: " + data.daily.data[i].pressure  + "</li>";
                weatherHTML +=   "</ul>";


        }

        $('#box').html(weatherHTML);


        function changeImage (arrayOfIcons, apiIcon) {
            for (var i = 0; i < arrayOfIcons.length; i++) {
                if (arrayOfIcons[i].status === apiIcon) {
                    return arrayOfIcons[i].image;
                }
            }
        }

        function changeLocation (){

        }

    });




</script>

<!--mapbox-->

<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.1/mapbox-gl-geocoder.min.js'></script>
<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.1/mapbox-gl-geocoder.css' type='text/css' />

<script>
    mapboxgl.accessToken = mapboxToken;
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-79.4512, 43.6568],
        zoom: 13
    });

    map.addControl(new MapboxGeocoder({
        accessToken: mapboxgl.accessToken,
        mapboxgl: mapboxgl
    }));



</script>




</body>
</html>